<section>
    <div class="login ">
        <div class="row align-items-center ">
            <div class="col-md-6">
                <div class="reg-img me-5">
                    <img src="../../../assets/auth-img.jpg" alt="" class="w-100 ">
                </div>
            </div>
            <div class="col-md-5"> 
                <div class="login-sec m-4 w-75 ms-5 ">
                    <h2 class="fw-bold ">Reset Your Passsword</h2>
                    <p class="mt-3 mb-4">Enter your details below</p>
                    @if (step == 1) {
                        <form [formGroup]="verfiyEmail" (ngSubmit)="verfiyEmailSubmit()" >
                            <div class="my-3">
                                <input type="email" id="email" class=" form-control borderbott ps-0" placeholder="Email" formControlName="email">
                            </div>
                            @if (msgError) {
                                <p class="text-danger mx-1 text-center"> {{msgError}} </p>
                            }
                            @if (msgSuccess) {
                                <p class="text-danger mx-1 text-center"> {{msgSuccess}} </p>
                            }
                            <button [disabled]="verfiyEmail.invalid || isloading" type="submit" class="btn btn-main  px-5  ">Send Code
                                @if (isloading) {
                                    <span><i class="fas fa-spin fa-spinner"></i></span>
                                }
                            </button>
                            
                        </form>
                    }
                    @else if (step == 2) {
                        <form [formGroup]="verfiyCode" (ngSubmit)="verfiyCodeSubmit()" >
                            @if (msgSuccess) {
                                <p class="text-success  text-center"> {{msgSuccess}} </p>
                            }
                            <div class="my-3">
                                <input type="text" id="resetCode" class=" form-control borderbott ps-0" placeholder="Code" formControlName="resetCode">
                            </div>
                            <button [disabled]="verfiyCode.invalid " type="submit" class="btn btn-main  px-5  ">Verfiy Code
                            </button>
                            @if (msgError) {
                                <p class="text-danger m-0 text-center"> {{msgError}} </p>
                            }
                        </form>
                    }
                    @else if (step == 3) {
                        <form [formGroup]="resetPassword" (ngSubmit)="resetPasswordSubmit()" >
                            <div class="my-3">
                                <input type="email" id="email" class=" form-control borderbott ps-0" placeholder="Email" formControlName="email">
                            </div>
                            <div class="my-3">
                                <input type="password" id="newPassword" class=" form-control borderbott ps-0" placeholder="New Password" formControlName="newPassword">
                            </div>
                            <div class="d-flex justify-content-between align-items-center">
                                <button [disabled]="resetPassword.invalid" type="submit" class="btn btn-main  px-5  ">Reset Password
                                </button>
                                @if (msgError) {
                                    <p class="text-danger m-0 text-center"> {{msgError}} </p>
                                }
                            </div>
                        </form>
                    }
                </div>
            </div>
        </div>
    </div>
</section>
